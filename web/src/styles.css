:root { --bg:#0b0f17; --panel:#121826; --muted:#6b7280; --text:#e5e7eb; --accent:#60a5fa; --error:#ef4444; --ok:#22c55e; }
@media (prefers-color-scheme: light) {
  :root { --bg:#f9fafb; --panel:#ffffff; --muted:#6b7280; --text:#111827; --accent:#2563eb; --error:#b91c1c; --ok:#15803d; }
}
:root[data-theme="light"] { --bg:#f9fafb; --panel:#ffffff; --muted:#6b7280; --text:#111827; --accent:#2563eb; --error:#b91c1c; --ok:#15803d; }
:root[data-theme="dark"] { --bg:#0b0f17; --panel:#121826; --muted:#6b7280; --text:#e5e7eb; --accent:#60a5fa; --error:#ef4444; --ok:#22c55e; }
html,body,#root{ height:100%; }
body { margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji"; background:var(--bg); color:var(--text); transition: background .2s ease, color .2s ease; }

.container { max-width: 980px; margin: 0 auto; padding: 24px; }
.card { background: var(--panel); border: 1px solid #1f2937; border-radius: 10px; padding: 16px; box-shadow: 0 8px 24px rgba(0,0,0,0.25); transition: background .2s ease, border-color .2s ease; }
.row { display:flex; gap:12px; flex-wrap:wrap; }
.col { flex:1 1 0; min-width: 260px; }
.heading { font-size: 20px; font-weight: 700; margin: 0 0 12px; }
.muted { color: var(--muted); }

input,button,select,textarea { background:#0b1220; color:var(--text); border:1px solid #1f2937; border-radius:8px; padding:10px 12px; font-size:14px; transition: background .2s ease, color .2s ease, border-color .2s ease; }
input:focus,select:focus,textarea:focus { outline: 2px solid var(--accent); outline-offset: 1px; }
button { background: linear-gradient(180deg,#1f2937,#111827); cursor:pointer; }
button.primary { background: linear-gradient(180deg,#2563eb,#1d4ed8); border-color:#1d4ed8; }
button.ghost { background: transparent; }
button:disabled { opacity: .6; cursor: not-allowed; }

.table { width:100%; border-collapse: collapse; font-size: 14px; }
.table th,.table td { border-bottom: 1px solid #1f2937; padding: 10px 8px; text-align: left; }
.chip { display:inline-flex; align-items:center; gap:6px; background:#0b1220; border:1px solid #1f2937; border-radius:999px; padding:4px 10px; font-size:12px; }

.toast { position: fixed; right: 16px; bottom: 16px; background:#111827; border:1px solid #374151; color:#e5e7eb; padding: 12px 14px; border-radius:10px; box-shadow: 0 8px 32px rgba(0,0,0,.35); min-width: 220px; }
.toast.error { border-color: var(--error); }
.toast.ok { border-color: var(--ok); }

.spinner { width:16px; height:16px; border: 2px solid #334155; border-top-color: var(--accent); border-radius:50%; animation: spin 1s linear infinite; display:inline-block; }
@keyframes spin { from{ transform:rotate(0) } to { transform: rotate(360deg) } }

.kbd { background:#0b1220; border:1px solid #1f2937; border-bottom-width:2px; border-radius:6px; padding:2px 6px; font-size:12px; }

/* Light mode control backgrounds */
:root[data-theme="light"] input,
:root[data-theme="light"] button,
:root[data-theme="light"] select,
:root[data-theme="light"] textarea { background:#ffffff; border-color:#e5e7eb; }

:root[data-theme="light"] .toast { background:#ffffff; color:#111827; border-color:#e5e7eb; }

/* Ensure maximum readability in dark theme: force pure white text in dark controls */
:root[data-theme="dark"] input,
:root[data-theme="dark"] button,
:root[data-theme="dark"] select,
:root[data-theme="dark"] textarea { color:#ffffff; }
:root[data-theme="dark"] input::placeholder,
:root[data-theme="dark"] textarea::placeholder { color:rgba(255,255,255,0.85); }
:root[data-theme="dark"] button.primary { color:#ffffff; }

/* Respect system dark when theme is not explicitly set to light */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) input,
  :root:not([data-theme="light"]) button,
  :root:not([data-theme="light"]) select,
  :root:not([data-theme="light"]) textarea { color:#ffffff; }
  :root:not([data-theme="light"]) input::placeholder,
  :root:not([data-theme="light"]) textarea::placeholder { color:rgba(255,255,255,0.85); }
  :root:not([data-theme="light"]) button.primary { color:#ffffff; }
}

/* Table container for small screens */
.table-wrap { width: 100%; overflow-x: auto; }

/* Prevent layout shift during hits polling */
.chip.hits { min-width: 72px; justify-content: center; }

/* Mobile adjustments */
@media (max-width: 400px) {
  .container { padding: 12px; }
  .heading { font-size: 18px; }
  input,button,select,textarea { font-size: 16px; /* avoid iOS zoom */ }
  .table th:nth-child(2), .table td:nth-child(2) { max-width: 200px; }
}

